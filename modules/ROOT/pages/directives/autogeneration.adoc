[[type-definitions-autogeneration]]
= Autogeneration
:page-aliases: type-definitions/autogeneration.adoc, type-definitions/directives/autogeneration.adoc
:description: This page describes directives used for autogeneration.


This page describes directives used for autogeneration:

[[type-definitions-autogeneration-id]]
== `@id`

This directive marks a field as an identifier for an object type.
This enables autogeneration of IDs for the field.

The format of each generated ID is a UUID generated by the link:https://neo4j.com/docs/cypher-manual/current/functions/scalar/#functions-randomuuid[`randomUUID()` function].
The field will not be present in input types for mutations.

It is recommended to use xref::/directives/indexes-and-constraints.adoc#type-definitions-constraints-unique[`@unique`] in conjunction with this to add a unique node property constraint.

=== Definition

[source, graphql, indent=0]
----
"""Indicates that the field is an identifier for the object type."""
directive @id on FIELD_DEFINITION
----

=== Usage

The following type definition specifies the `id` field as an autogenerated value:

[source, graphql, indent=0]
----
type User @node {
    id: ID! @id
    username: String!
}
----

[[type-definitions-autogeneration-timestamp]]
== `@timestamp`

This directive marks a field as a timestamp field, which can be used to store timestamps of when particular events happen through the GraphQL API.

[NOTE]
====
These events are triggered and stored at the GraphQL API layer. 
Events happening in your database through other routes do not trigger updates of these timestamps.
====

=== Definition

[source, graphql, indent=0]
----
enum TimestampOperation {
    CREATE
    UPDATE
}

"""Instructs @neo4j/graphql to generate timestamps on particular events, which will be available as the value of the specified field."""
directive @timestamp(
    """Which events to generate timestamps on. Defaults to both create and update."""
    operations: [TimestampOperation!]! = [CREATE, UPDATE]
) on FIELD_DEFINITION
----

=== Usage

The following type definition has two individual fields to store the timestamps of create and update events:

[source, graphql, indent=0]
----
type User @node {
    createdAt: DateTime! @timestamp(operations: [CREATE])
    updatedAt: DateTime! @timestamp(operations: [UPDATE])
}
----

The following two equivalent type definitions have a single field storing the event timestamp of the last `create` or `update`:

[source, graphql, indent=0]
----
type User @node {
    lastModified: DateTime! @timestamp
}
----

[source, graphql, indent=0]
----
type User @node {
    lastModified: DateTime! @timestamp(operations: [CREATE, UPDATE])
}
----

[[type-definitions-autogeneration-populated-by]]
