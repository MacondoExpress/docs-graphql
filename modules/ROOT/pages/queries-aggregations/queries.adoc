[[queries]]
= Queries
:description: This page describes how to read or fetch values in the Neo4j GraphQL Library.

== Type definitions

Queries on this page assume the following type definitions:

[source, graphql, indent=0]
----
type Post @node {
    id: ID! @id
    content: String!
    createdAt: DateTime!
    creator: [User!]! @relationship(type: "HAS_POST", direction: IN, properties: "PostedAt")
}

type User @node {
    id: ID! @id
    name: String!
    age: Int!
    posts: [Post!]! @relationship(type: "HAS_POST", direction: OUT, properties: "PostedAt")
    friends: [User!]! @relationship(type: "FRIENDS_WITH", direction: OUT)
}

type PostedAt @relationshipProperties {
    date: DateTime
}
----

For which the following query fields are generated:

[source, graphql, indent=0]
----
type Query {
    posts(where: PostOperationWhere): PostOperation
    movies(where: MovieOperationWhere): MovieOperation
}
----

== Writing queries

Based on the type definitions, here are two examples of how to write queries for reading or retrieving values:

.Return all User nodes from their ID and name
[source, graphql, indent=0]
----
query {
    users {
        connection {
            edges {
                node {
                    id
                    name
                }
            }
        }
    }
}
----

.Query User with name "Jane Smith" and their posts
[source, graphql, indent=0]
----
query {
    users(where: { node: { name: { equals: "Jane Smith" } } }) {
        connection {
            edges {
                node {
                    id
                    name
                    posts {
                        connection {
                            edges {
                                node {
                                    content
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
----
